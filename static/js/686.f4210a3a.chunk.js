"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[686],{5686:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var r=t(9439),o=t(2791),a=t(9126),s=t(9434),i=t(1686),c=t(6975),l=function(n){return n.contacts.contacts},u=t(9589),d=t(5325),x=t(7298),h=t(1692),f=t(7943),p=t(9640),m=t(9163),b=t(9055),g=t(4910),j=t(3329);function v(){var n=(0,o.useState)(""),e=(0,r.Z)(n,2),t=e[0],v=e[1],C=(0,o.useState)(""),y=(0,r.Z)(C,2),k=y[0],w=y[1],N=(0,s.I0)(),Z=(0,s.v9)(l),z=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":v(r);break;case"number":w(r);break;default:return}},I=function(){v(""),w("")};return(0,j.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e={name:t,number:k};if(Z.some((function(n){return n.name.toLowerCase()===t.toLowerCase()||n.number===k})))return I(),void i.Notify.info("".concat(t," is already in contacts"),{position:"center-top",info:{background:"#738ddae4"}});N((0,c.BN)(e)).then((function(){i.Notify.success("Contact added successfully",{position:"center-top",clickToClose:!0,success:{background:"#9dbc89df"}})})).catch((function(){i.Notify.failure("Somthing was wrong, try again",{position:"center-top"})})),I()},children:[(0,j.jsx)(u.X,{sx:g.Uq,children:"Add contact"}),(0,j.jsxs)(d.NI,{children:[(0,j.jsx)(x.l,{sx:g.Xv,children:"Name"}),(0,j.jsxs)(h.B,{sx:g.aY,children:[(0,j.jsx)(f.Z,{sx:g.sP,children:(0,j.jsx)(p.J,{as:a.HHm,color:"customColor.200"})}),(0,j.jsx)(m.I,{variant:"filled",value:t,onChange:z,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})]}),(0,j.jsxs)(d.NI,{children:[(0,j.jsx)(x.l,{sx:g.Xv,children:"Number"}),(0,j.jsxs)(h.B,{sx:g.aY,children:[(0,j.jsx)(f.Z,{sx:g.sP,children:(0,j.jsx)(p.J,{as:a.lfG,color:"customColor.200"})}),(0,j.jsx)(m.I,{variant:"filled",value:k,onChange:z,type:"tel",name:"number",pattern:"\\+?[0-9\\s\\-\\(\\)]+",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,j.jsx)(b.z,{variant:"myBtn",type:"submit",children:"Add contact"})]})}var C,y=t(7425),k=t(168),w=t(7833),N=(0,t(225).Z)(w.U)(C||(C=(0,k.Z)(["\n  padding: 12px;\n  padding-left: 20px;\n  color: #555;\n  -webkit-tap-highlight-color: transparent;\n\n  :hover {\n    background: #fff;\n    outline: none;\n    position: relative;\n    background-color: #fff;\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n  }\n\n  :hover::after {\n    content: '';\n    position: absolute;\n    background-color: transparent;\n    bottom: 100%;\n    right: 0;\n    height: 35px;\n    width: 35px;\n    border-bottom-right-radius: 18px;\n    box-shadow: 0 20px 0 0 #fff;\n  }\n\n  :hover::before {\n    content: '';\n    position: absolute;\n    background-color: transparent;\n    top: 38px;\n    right: 0;\n    height: 35px;\n    width: 35px;\n    border-top-right-radius: 18px;\n    box-shadow: 0 -20px 0 0 #fff;\n  }\n"]))),Z=t(1666),z=t(5494),I=t(7263),S=t(7227),A=t(2008),B=t(5510),T=t(2966),q=t(4164),P=document.querySelector("#modal-root");var O=function(n){var e=n.isOpen,t=n.onClose,a=n.contact,l=(0,s.I0)(),u=(0,o.useState)(a.name),h=(0,r.Z)(u,2),f=h[0],p=h[1],g=(0,o.useState)(a.number),v=(0,r.Z)(g,2),C=v[0],y=v[1];return(0,q.createPortal)((0,j.jsxs)(Z.u_,{isOpen:e,onClose:t,children:[(0,j.jsx)(z.Z,{bg:"blackAlpha.300",backdropFilter:"blur(2px) hue-rotate(90deg)"}),(0,j.jsxs)(I.h,{children:[(0,j.jsx)(S.x,{children:"Edit Contact"}),(0,j.jsx)(A.o,{}),(0,j.jsxs)(B.f,{children:[(0,j.jsxs)(d.NI,{children:[(0,j.jsx)(x.l,{children:"Name"}),(0,j.jsx)(m.I,{variant:"filled",value:f,onChange:function(n){return p(n.target.value)}})]}),(0,j.jsxs)(d.NI,{mt:4,children:[(0,j.jsx)(x.l,{children:"Number"}),(0,j.jsx)(m.I,{variant:"filled",value:C,onChange:function(n){return y(n.target.value)}})]})]}),(0,j.jsxs)(T.m,{children:[(0,j.jsx)(b.z,{variant:"myBtn",mr:3,onClick:function(){""!==f&&""!==C?(l((0,c.gg)({id:a.id,name:f,number:C})).then((function(){i.Notify.success("Updated",{position:"center-top",clickToClose:!0,timeout:1500,success:{background:"#9dbc89df"}})})).catch((function(){i.Notify.failure("Somthing was wrong, try again",{position:"center-top"})})),t()):i.Notify.failure("Fields can not be empty. Please, enter some value",{position:"center-top"})},children:"Save"}),(0,j.jsx)(b.z,{variant:"myBtn",onClick:t,children:"Cancel"})]})]})]}),P)},_=t(8348),F=t(824),H=t(6108);var L=function(n){var e=n.id,t=n.name,r=n.number,o=(0,s.I0)(),a=(0,_.q)(),l=a.isOpen,u=a.onOpen,d=a.onClose;return(0,j.jsxs)(N,{spacing:{base:"6px",lg:"32px"},as:"li",id:e,children:[(0,j.jsx)(F.xu,{as:"p",sx:g.H8,children:t}),(0,j.jsx)(F.xu,{as:"p",sx:g.H8,children:r}),(0,j.jsxs)(F.xu,{as:"div",sx:g.Ve,children:[(0,j.jsx)(H.h,{size:"xs",sx:g.ng,"aria-label":"edit contact",type:"button",onClick:u,icon:(0,j.jsx)(y.enh,{})}),(0,j.jsx)(H.h,{size:"xs",sx:g.ng,"aria-label":"delete contact",type:"button",onClick:function(){return n=e,void o((0,c.QZ)(n)).then((function(){i.Notify.success("Deleted",{position:"center-top",clickToClose:!0,timeout:1500,success:{background:"#9dbc89df"}})})).catch((function(){i.Notify.failure("Somthing was wrong, try again",{position:"center-top"})}));var n},icon:(0,j.jsx)(y.GnT,{})})]}),(0,j.jsx)(O,{isOpen:l,onClose:d,contact:{id:e,name:t,number:r}})]})},U=t(6916),G=function(n){return n.filter.filter.toLowerCase()},J=(0,U.P1)([l,G],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e)}))})),X=t(7692),D=t(1449);var E=function(){var n=(0,s.I0)(),e=(0,s.v9)(G);return(0,j.jsxs)(h.B,{children:[(0,j.jsx)(m.I,{value:e,type:"text",placeholder:"Search by names...",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"search",onChange:function(e){n((0,D.T)(e.currentTarget.value))}}),!e&&(0,j.jsx)(X.Goc,{size:"20"}),e&&(0,j.jsx)(X.czh,{size:"20",onClick:function(){n((0,D.T)(""))}})]})},V=t(6661),Y=t(884);var $=function(){var n=(0,s.v9)(J),e=(0,s.I0)();return(0,o.useEffect)((function(){e((0,c.qu)()).catch((function(){i.Notify.failure("Somthing was wrong, refresh the page",{position:"center-top"})}))}),[e]),(0,j.jsxs)(V.aV,{sx:g.Un,children:[n.length&&(0,j.jsx)(E,{}),0!==n.length?n.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,j.jsx)(L,{name:e,number:t,id:r},r)})):(0,j.jsx)(Y.x,{sx:g.Ku,children:"Contact list is empty"})]})};var K=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v,{}),(0,j.jsx)($,{})]})}}}]);
//# sourceMappingURL=686.f4210a3a.chunk.js.map