"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[276],{8276:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r=t(9439),o=t(2791),a=t(9126),i=t(9434),s=t(1686),c=t(6975),l=function(n){return n.contacts.contacts},u=t(9589),d=t(5325),h=t(7298),f=t(1692),p=t(7943),x=t(9640),m=t(9163),b=t(9055),g=t(4910),j=t(3329);function v(){var n=(0,o.useState)(""),e=(0,r.Z)(n,2),t=e[0],v=e[1],y=(0,o.useState)(""),C=(0,r.Z)(y,2),k=C[0],w=C[1],N=(0,i.I0)(),Z=(0,i.v9)(l),z=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":v(r);break;case"number":w(r);break;default:return}},I=function(){v(""),w("")};return(0,j.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e={name:t,number:k};if(Z.some((function(n){return n.name.toLowerCase()===t.toLowerCase()||n.number===k})))return I(),void s.Notify.info("".concat(t," is already in contacts"),{position:"center-top",info:{background:"#738ddae4"}});N((0,c.BN)(e)).then((function(){s.Notify.success("Contact added successfully",{position:"center-top",clickToClose:!0,success:{background:"#9dbc89df"}})})).catch((function(){s.Notify.failure("Somthing was wrong, try again",{position:"center-top"})})),I()},children:[(0,j.jsx)(u.X,{sx:g.Uq,children:"Add contact"}),(0,j.jsxs)(d.NI,{children:[(0,j.jsx)(h.l,{sx:g.Xv,children:"Name"}),(0,j.jsxs)(f.B,{sx:g.aY,children:[(0,j.jsx)(p.Z,{sx:g.sP,children:(0,j.jsx)(x.J,{as:a.HHm,color:"customColor.200"})}),(0,j.jsx)(m.I,{variant:"filled",value:t,onChange:z,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})]}),(0,j.jsxs)(d.NI,{children:[(0,j.jsx)(h.l,{sx:g.Xv,children:"Number"}),(0,j.jsxs)(f.B,{sx:g.aY,children:[(0,j.jsx)(p.Z,{sx:g.sP,children:(0,j.jsx)(x.J,{as:a.lfG,color:"customColor.200"})}),(0,j.jsx)(m.I,{variant:"filled",value:k,onChange:z,type:"tel",name:"number",pattern:"\\+?[0-9\\s\\-\\(\\)]+",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,j.jsx)(b.z,{variant:"myBtn",type:"submit",children:"Add contact"})]})}var y,C=t(7425),k=t(168),w=t(225),N=w.Z.li(y||(y=(0,k.Z)(["\n  display: flex;\n  justify-content: space-around;\n  padding: 12px;\n  padding-left: 30px;\n  color: #555;\n  -webkit-tap-highlight-color: transparent;\n\n  :hover {\n    background: #fff;\n    outline: none;\n    position: relative;\n    background-color: #fff;\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n  }\n\n  :hover::after {\n    content: '';\n    position: absolute;\n    background-color: transparent;\n    bottom: 100%;\n    right: 0;\n    height: 35px;\n    width: 35px;\n    border-bottom-right-radius: 18px;\n    box-shadow: 0 20px 0 0 #fff;\n  }\n\n  :hover::before {\n    content: '';\n    position: absolute;\n    background-color: transparent;\n    top: 38px;\n    right: 0;\n    height: 35px;\n    width: 35px;\n    border-top-right-radius: 18px;\n    box-shadow: 0 -20px 0 0 #fff;\n  }\n  p {\n    width: 140px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: 18px;\n  }\n\n  div {\n    display: flex;\n  }\n"]))),Z=t(1666),z=t(5494),I=t(7263),S=t(7227),A=t(2008),B=t(5510),T=t(2966),q=t(4164),P=document.querySelector("#modal-root");var O=function(n){var e=n.isOpen,t=n.onClose,a=n.contact,l=(0,i.I0)(),u=(0,o.useState)(a.name),f=(0,r.Z)(u,2),p=f[0],x=f[1],g=(0,o.useState)(a.number),v=(0,r.Z)(g,2),y=v[0],C=v[1];return(0,q.createPortal)((0,j.jsxs)(Z.u_,{isOpen:e,onClose:t,children:[(0,j.jsx)(z.Z,{bg:"blackAlpha.300",backdropFilter:"blur(2px) hue-rotate(90deg)"}),(0,j.jsxs)(I.h,{children:[(0,j.jsx)(S.x,{children:"Edit Contact"}),(0,j.jsx)(A.o,{}),(0,j.jsxs)(B.f,{children:[(0,j.jsxs)(d.NI,{children:[(0,j.jsx)(h.l,{children:"Name"}),(0,j.jsx)(m.I,{variant:"filled",value:p,onChange:function(n){return x(n.target.value)}})]}),(0,j.jsxs)(d.NI,{mt:4,children:[(0,j.jsx)(h.l,{children:"Number"}),(0,j.jsx)(m.I,{variant:"filled",value:y,onChange:function(n){return C(n.target.value)}})]})]}),(0,j.jsxs)(T.m,{children:[(0,j.jsx)(b.z,{variant:"myBtn",mr:3,onClick:function(){""!==p&&""!==y?(l((0,c.gg)({id:a.id,name:p,number:y})).then((function(){s.Notify.success("Updated",{position:"center-top",clickToClose:!0,timeout:1500,success:{background:"#9dbc89df"}})})).catch((function(){s.Notify.failure("Somthing was wrong, try again",{position:"center-top"})})),t()):s.Notify.failure("Fields can not be empty. Please, enter some value",{position:"center-top"})},children:"Save"}),(0,j.jsx)(b.z,{variant:"myBtn",onClick:t,children:"Cancel"})]})]})]}),P)},_=t(8348),F=t(6108);var L,G=function(n){var e=n.id,t=n.name,r=n.number,o=(0,i.I0)(),a=(0,_.q)(),l=a.isOpen,u=a.onOpen,d=a.onClose;return(0,j.jsxs)(N,{id:e,children:[(0,j.jsx)("p",{children:t}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{children:r}),(0,j.jsx)(F.h,{size:"xs",sx:g.ng,"aria-label":"edit contact",type:"button",onClick:u,children:(0,j.jsx)(C.enh,{})}),(0,j.jsx)(O,{isOpen:l,onClose:d,contact:{id:e,name:t,number:r}}),(0,j.jsx)(F.h,{size:"xs",sx:g.ng,"aria-label":"delete contact",type:"button",onClick:function(){return n=e,void o((0,c.QZ)(n)).then((function(){s.Notify.success("Deleted",{position:"center-top",clickToClose:!0,timeout:1500,success:{background:"#9dbc89df"}})})).catch((function(){s.Notify.failure("Somthing was wrong, try again",{position:"center-top"})}));var n},children:(0,j.jsx)(C.GnT,{})})]})]})},J=w.Z.h2(L||(L=(0,k.Z)(["\n  display: block;\n  text-align: center;\n  margin-bottom: 8px;\n  font-size: 24px;\n  color: #555;\n  cursor: default;\n"]))),U=t(6916),X=function(n){return n.filter.filter.toLowerCase()},D=(0,U.P1)([l,X],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e)}))})),E=t(7692),H=t(1449);var Y=function(){var n=(0,i.I0)(),e=(0,i.v9)(X);return(0,j.jsxs)(f.B,{children:[(0,j.jsx)(m.I,{value:e,type:"text",placeholder:"Search by names...",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"search",onChange:function(e){n((0,H.T)(e.currentTarget.value))}}),!e&&(0,j.jsx)(E.Goc,{size:"20"}),e&&(0,j.jsx)(E.czh,{size:"20",onClick:function(){n((0,H.T)(""))}})]})},$=t(6661);var M=function(){var n=(0,i.v9)(D),e=(0,i.I0)();return(0,o.useEffect)((function(){e((0,c.qu)()).catch((function(){s.Notify.failure("Somthing was wrong, refresh the page",{position:"center-top"})}))}),[e]),(0,j.jsxs)($.aV,{sx:g.Un,children:[(0,j.jsx)(Y,{}),0!==n.length?n.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,j.jsx)(G,{name:e,number:t,id:r},r)})):(0,j.jsx)(J,{children:"Contact list is empty"})]})};var Q=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v,{}),(0,j.jsx)(M,{})]})}}}]);
//# sourceMappingURL=276.17f752ad.chunk.js.map