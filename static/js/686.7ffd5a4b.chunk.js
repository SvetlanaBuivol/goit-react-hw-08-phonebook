"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[686],{9198:function(n,e,t){var r=t(8410),o=t(4910),a=t(3329);e.Z=function(n){var e=n.children;return(0,a.jsx)(r.W,{sx:o.nC,children:e})}},5686:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r=t(9439),o=t(2791),a=t(9126),s=t(9434),i=t(1686),c=t(6975),l=function(n){return n.contacts.contacts},u=t(9589),d=t(5325),x=t(7298),h=t(1692),f=t(7943),p=t(9640),m=t(9163),b=t(9055),j=t(4910),v=t(3329);function g(){var n=(0,o.useState)(""),e=(0,r.Z)(n,2),t=e[0],g=e[1],C=(0,o.useState)(""),y=(0,r.Z)(C,2),k=y[0],w=y[1],N=(0,s.I0)(),Z=(0,s.v9)(l),I=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":g(r);break;case"number":w(r);break;default:return}},z=function(){g(""),w("")};return(0,v.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e={name:t,number:k};if(Z.some((function(n){return n.name.toLowerCase()===t.toLowerCase()||n.number===k})))return z(),void i.Notify.info("".concat(t," is already in contacts"),{position:"center-top",info:{background:"#738ddae4"}});N((0,c.BN)(e)).then((function(){i.Notify.success("Contact added successfully",{position:"center-top",clickToClose:!0,success:{background:"#9dbc89df"}})})).catch((function(){i.Notify.failure("Somthing was wrong, try again",{position:"center-top"})})),z()},children:[(0,v.jsx)(u.X,{sx:j.Uq,children:"Add contact"}),(0,v.jsxs)(d.NI,{children:[(0,v.jsx)(x.l,{sx:j.Xv,children:"Name"}),(0,v.jsxs)(h.B,{sx:j.aY,children:[(0,v.jsx)(f.Z,{sx:j.sP,children:(0,v.jsx)(p.J,{as:a.HHm,color:"customColor.200"})}),(0,v.jsx)(m.I,{variant:"filled",value:t,onChange:I,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})]}),(0,v.jsxs)(d.NI,{children:[(0,v.jsx)(x.l,{sx:j.Xv,children:"Number"}),(0,v.jsxs)(h.B,{sx:j.aY,children:[(0,v.jsx)(f.Z,{sx:j.sP,children:(0,v.jsx)(p.J,{as:a.lfG,color:"customColor.200"})}),(0,v.jsx)(m.I,{variant:"filled",value:k,onChange:I,type:"tel",name:"number",pattern:"\\+?[0-9\\s\\-\\(\\)]+",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,v.jsx)(b.z,{variant:"myBtn",type:"submit",children:"Add contact"})]})}var C,y=t(7425),k=t(168),w=t(7833),N=(0,t(225).Z)(w.U)(C||(C=(0,k.Z)(["\n  padding: 12px;\n  padding-left: 20px;\n  color: #555;\n  -webkit-tap-highlight-color: transparent;\n\n  :hover {\n    background: #fff;\n    outline: none;\n    position: relative;\n    background-color: #fff;\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n  }\n\n  :hover::after {\n    content: '';\n    position: absolute;\n    background-color: transparent;\n    bottom: 100%;\n    right: 0;\n    height: 35px;\n    width: 35px;\n    border-bottom-right-radius: 18px;\n    box-shadow: 0 20px 0 0 #fff;\n  }\n\n  :hover::before {\n    content: '';\n    position: absolute;\n    background-color: transparent;\n    top: 38px;\n    right: 0;\n    height: 35px;\n    width: 35px;\n    border-top-right-radius: 18px;\n    box-shadow: 0 -20px 0 0 #fff;\n  }\n"]))),Z=t(1666),I=t(5494),z=t(7263),S=t(7227),A=t(8675),B=t(2008),q=t(5510),T=t(2966),P=t(4164),J=document.querySelector("#modal-root");var O=function(n){var e=n.isOpen,t=n.onClose,a=n.contact,l=(0,s.I0)(),u=(0,o.useState)(a.name),h=(0,r.Z)(u,2),f=h[0],p=h[1],g=(0,o.useState)(a.number),C=(0,r.Z)(g,2),y=C[0],k=C[1];return(0,P.createPortal)((0,v.jsxs)(Z.u_,{isOpen:e,onClose:t,children:[(0,v.jsx)(I.Z,{bg:"blackAlpha.300",backdropFilter:"blur(2px) hue-rotate(90deg)"}),(0,v.jsxs)(z.h,{children:[(0,v.jsx)(S.x,{sx:j.Uq,children:"Edit Contact"}),(0,v.jsx)(A.i,{}),(0,v.jsx)(B.o,{}),(0,v.jsxs)(q.f,{children:[(0,v.jsxs)(d.NI,{children:[(0,v.jsx)(x.l,{sx:j.Xv,children:"Name"}),(0,v.jsx)(m.I,{variant:"filled",value:f,onChange:function(n){return p(n.target.value)}})]}),(0,v.jsxs)(d.NI,{mt:4,children:[(0,v.jsx)(x.l,{sx:j.Xv,children:"Number"}),(0,v.jsx)(m.I,{variant:"filled",value:y,onChange:function(n){return k(n.target.value)}})]})]}),(0,v.jsxs)(T.m,{children:[(0,v.jsx)(b.z,{variant:"myBtn",mr:3,onClick:function(){""!==f&&""!==y?(l((0,c.gg)({id:a.id,name:f,number:y})).then((function(){i.Notify.success("Updated",{position:"center-top",clickToClose:!0,timeout:1500,success:{background:"#9dbc89df"}})})).catch((function(){i.Notify.failure("Somthing was wrong, try again",{position:"center-top"})})),t()):i.Notify.failure("Fields can not be empty. Please, enter some value",{position:"center-top"})},children:"Save"}),(0,v.jsx)(b.z,{variant:"myBtn",onClick:t,children:"Cancel"})]})]})]}),J)},U=t(8348),X=t(824),_=t(6108);var F=function(n){var e=n.id,t=n.name,r=n.number,o=(0,s.I0)(),a=(0,U.q)(),l=a.isOpen,u=a.onOpen,d=a.onClose;return(0,v.jsxs)(N,{spacing:{base:"6px",lg:"32px"},as:"li",id:e,children:[(0,v.jsx)(X.xu,{as:"p",sx:j.H8,children:t}),(0,v.jsx)(X.xu,{as:"p",sx:j.H8,children:r}),(0,v.jsxs)(X.xu,{as:"div",sx:j.Ve,children:[(0,v.jsx)(_.h,{size:"xs",sx:j.ng,"aria-label":"edit contact",type:"button",onClick:u,icon:(0,v.jsx)(y.enh,{})}),(0,v.jsx)(_.h,{size:"xs",sx:j.ng,"aria-label":"delete contact",type:"button",onClick:function(){return n=e,void o((0,c.QZ)(n)).then((function(){i.Notify.success("Deleted",{position:"center-top",clickToClose:!0,timeout:1500,success:{background:"#9dbc89df"}})})).catch((function(){i.Notify.failure("Somthing was wrong, try again",{position:"center-top"})}));var n},icon:(0,v.jsx)(y.GnT,{})})]}),(0,v.jsx)(O,{isOpen:l,onClose:d,contact:{id:e,name:t,number:r}})]})},H=t(6916),L=function(n){return n.filter.filter.toLowerCase()},G=(0,H.P1)([l,L],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e)}))})),D=t(7692),E=t(1449);var V=function(){var n=(0,s.I0)(),e=(0,s.v9)(L);return(0,v.jsxs)(h.B,{sx:j.C,children:[(0,v.jsx)(m.I,{variant:"flushed",value:e,type:"text",placeholder:"Search by names...",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",name:"search",onChange:function(e){n((0,E.T)(e.currentTarget.value))}}),(0,v.jsxs)(f.x,{children:[!e&&(0,v.jsx)(p.J,{as:D.Goc,color:"customColor.200"}),e&&(0,v.jsx)(p.J,{as:D.czh,onClick:function(){n((0,E.T)(""))},color:"customColor.200"})]})]})},Y=t(6661),$=t(884),K=t(9198);var M=function(){var n=(0,s.v9)(l),e=(0,s.v9)(G),t=(0,s.I0)();return(0,o.useEffect)((function(){t((0,c.qu)()).catch((function(){i.Notify.failure("Somthing was wrong, refresh the page",{position:"center-top"})}))}),[t]),(0,v.jsx)(K.Z,{children:(0,v.jsxs)(Y.aV,{sx:j.Un,children:[n.length&&(0,v.jsx)(V,{}),0!==e.length?e.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,v.jsx)(F,{name:e,number:t,id:r},r)})):(0,v.jsx)($.x,{sx:j.Ku,children:"Contact list is empty"})]})})};var Q=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g,{}),(0,v.jsx)(M,{})]})}}}]);
//# sourceMappingURL=686.7ffd5a4b.chunk.js.map